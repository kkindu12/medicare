<div class="appointments-container">
  <div class="header">
    <h1>My Appointments</h1>
    <button class="button button-primary" (click)="goToBooking()">
      Book New Appointment
    </button>
  </div>

  <div class="appointments-list">
    <div *ngIf="appointments.length === 0" class="no-appointments">
      <p>You don't have any appointments scheduled.</p>
      <button class="button button-primary" (click)="goToBooking()">
        Book Your First Appointment
      </button>
    </div>

    <div *ngFor="let appointment of appointments" class="appointment-card">
      <div class="appointment-header">
        <h3>Dr. {{appointment.doctorName}}</h3>
        <span class="specialty">{{appointment.doctorSpecialty}}</span>
      </div>

      <div class="appointment-details">
        <div class="detail">
          <i class="fas fa-calendar"></i>
          <span>{{appointment.date}}</span>
        </div>
        <div class="detail">
          <i class="fas fa-clock"></i>
          <span>{{appointment.time}}</span>
        </div>
        <div class="detail">
          <i class="fas fa-comment"></i>
          <span>{{appointment.reason}}</span>
        </div>
      </div>

      <div class="appointment-actions">
        <button 
          class="button button-secondary" 
          (click)="rescheduleAppointment(appointment)">
          Reschedule
        </button>
        <button 
          class="button button-danger" 
          (click)="cancelAppointment(appointment)">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>

<app-reschedule-modal
  *ngIf="showRescheduleModal && selectedAppointment"
  [appointment]="selectedAppointment"
  (closeModal)="closeRescheduleModal()"
  (reschedule)="handleReschedule($event)">
</app-reschedule-modal> 