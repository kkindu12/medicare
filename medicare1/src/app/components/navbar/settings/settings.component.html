<style>
  @keyframes pulse {
    0% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.1); }
    100% { opacity: 1; transform: scale(1); }
  }
  .settings-title {
    font-size: 1.5rem !important;
  }
  .settings-section-title {
    font-size: 1.1rem !important;
  }
  .form-label, label.form-label {
    font-size: 0.92rem !important;
  }
  .form-control, .form-select {
    font-size: 0.97rem !important;
  }
  .btn, button.btn {
    font-size: 0.97rem !important;
  }
  .form-section {
    min-height: auto;
    padding: 2.5rem !important;
  }
  .settings-info-section {
    padding: 2rem !important;
  }
  .settings-card {
    border: 1px solid #e9ecef;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    background: #fff;
  }
  .settings-card h5 {
    color: #0d6efd;
    margin-bottom: 1rem;
    font-weight: 600;
  }
  .form-switch .form-check-input {
    width: 2.5rem;
    height: 1.25rem;
    margin-top: 0.125rem;
  }
  @media (max-width: 768px) {
    .settings-info-section {
      display: none !important;
    }
  }
</style>

<div class="container-fluid min-vh-100 d-flex align-items-center justify-content-center" style="background-color: #fff;">
  <div class="row w-100 justify-content-center">
    <div class="col-lg-10 col-md-11 col-12">
      <div class="d-flex flex-row rounded-4 shadow-lg overflow-hidden bg-white my-5" style="min-height: 700px; max-width: 1400px; margin-left: auto; margin-right: auto;">
        
        <!-- Left: Settings Form Section -->
        <div class="col-md-8 p-5 d-flex flex-column form-section" style="overflow-y: auto; max-height: 700px;">
          <div class="mb-4 d-flex align-items-center justify-content-between">
            <span class="fw-bold text-primary settings-title">Medicare Settings</span>
            <button class="btn btn-outline-secondary btn-sm" (click)="goBack()">
              <i class="bi bi-arrow-left me-1"></i>Back
            </button>
          </div>
          
          <h4 class="fw-semibold mb-4 settings-section-title" style="color: #212529;">
            Manage Your Healthcare Account Settings
          </h4>

          <!-- Accessibility Settings -->
          <div class="settings-card">
            <h5><i class="bi bi-universal-access me-2"></i>Accessibility Settings</h5>
            <form (ngSubmit)="onAccessibilitySettingsSubmit()">              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="fontSize" class="form-label">Font Size</label>
                  <select class="form-select" id="fontSize" [(ngModel)]="fontSize" name="fontSize">
                    <option value="small">Small</option>
                    <option value="medium">Medium</option>
                    <option value="large">Large</option>
                    <option value="extra-large">Extra Large</option>
                  </select>
                  <small class="text-muted">Adjust text size for better readability</small>
                </div>
                <div class="col-md-6 mb-3">
                  <label for="colorScheme" class="form-label">Color Theme</label>
                  <select class="form-select" id="colorScheme" [(ngModel)]="colorScheme" name="colorScheme">
                    <option value="light">Light</option>
                    <option value="dark">Dark</option>
                    <option value="auto">Auto</option>
                  </select>
                  <small class="text-muted">Choose your preferred color theme</small>
                </div>
              </div>
              <button type="submit" class="btn btn-primary">
                <i class="bi bi-check-circle me-1"></i>Save Accessibility Settings
              </button>
            </form>
          </div>          <!-- Security Settings -->
          <div class="settings-card">
            <h5><i class="bi bi-shield-lock me-2"></i>Security Settings</h5>
            <form (ngSubmit)="onSecuritySettingsSubmit()">
              <div class="row">
                <div class="col-md-6 mb-3">
                  <h6 class="mb-2">Change Password</h6>
                  <p class="text-muted small mb-2">Update your account password for enhanced security</p>
                  <button type="button" class="btn btn-outline-primary" (click)="changePassword()">
                    <i class="bi bi-key me-1"></i>Change Password
                  </button>
                </div>
                <div class="col-md-6 mb-3">
                  <label for="sessionTimeout" class="form-label">Session Timeout (minutes)</label>
                  <select class="form-select" id="sessionTimeout" [(ngModel)]="sessionTimeout" name="sessionTimeout">
                    <option value="15">15 minutes</option>
                    <option value="30">30 minutes</option>
                    <option value="60">1 hour</option>
                    <option value="120">2 hours</option>
                  </select>
                  <small class="text-muted">Automatically log out after inactivity</small>
                </div>
              </div>
              <button type="submit" class="btn btn-primary">
                <i class="bi bi-shield-check me-1"></i>Save Security Settings
              </button>
            </form>          </div>

          <!-- Data Management -->
          <div class="settings-card">
            <h5><i class="bi bi-database me-2"></i>Data Management</h5>
            <div class="alert alert-info">
              <i class="bi bi-info-circle me-2"></i>
              Manage your healthcare account information.
            </div>
            
            <div class="row">
              <div class="col-md-6 mb-3">
                <h6 class="mb-2 text-danger">Delete Account</h6>
                <p class="text-muted small mb-2">Permanently delete your account and all associated healthcare data. This action cannot be undone.</p>
                <button type="button" class="btn btn-outline-danger" (click)="deleteAccount()">
                  <i class="bi bi-trash me-1"></i>Delete Account
                </button>
              </div>
              <div class="col-md-6 mb-3">
                <h6 class="mb-2">Data Retention Policy</h6>
                <p class="text-muted small">
                  Your healthcare data is retained according to medical record retention requirements. 
                  Medical records are kept for a minimum of 7 years as required by healthcare regulations.
                </p>
              </div>
            </div>
          </div>

          <!-- Status Messages -->
          <div *ngIf="success" class="alert alert-success d-flex align-items-center" role="alert">
            <i class="bi bi-check-circle-fill me-2"></i>
            {{ success }}
          </div>
          
          <div *ngIf="error" class="alert alert-danger d-flex align-items-center" role="alert">
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            {{ error }}
          </div>

          <div *ngIf="isLoading" class="d-flex justify-content-center my-3">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </div>
        </div>        <!-- Right: Information Section -->
        <div class="col-md-4 p-0 settings-info-section" style="background: linear-gradient(135deg, #007bff 0%, #0056b3 100%); color: white;">
          <div class="d-flex flex-column h-100 justify-content-center text-center p-4">
            <div class="mb-4">
              <i class="bi bi-gear-fill" style="font-size: 4rem; opacity: 0.9;"></i>
            </div><h3 class="fw-bold mb-3">Account Settings</h3>
            <p class="mb-4" style="opacity: 0.9;">
              Customize your Medicare experience with personalized accessibility and security settings.
            </p>
            
            <div class="mb-4">
              <div class="d-flex align-items-center justify-content-center mb-2">
                <i class="bi bi-shield-check me-2"></i>
                <span>HIPAA Compliant</span>
              </div>
              <div class="d-flex align-items-center justify-content-center mb-2">
                <i class="bi bi-lock-fill me-2"></i>
                <span>Secure & Encrypted</span>
              </div>
              <div class="d-flex align-items-center justify-content-center">
                <i class="bi bi-universal-access me-2"></i>
                <span>Accessibility Ready</span>
              </div>
            </div>

            <div class="text-center" style="opacity: 0.8;">
              <small>
                Your privacy and security are our top priorities. All settings are saved securely and comply with healthcare data protection regulations.
              </small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
